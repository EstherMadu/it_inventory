<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}Admin - Inventory{% endblock %}</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/static/assets/bootstrap/css/bootstrap.css">

  <!-- Icons (Bootstrap icons CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <style>
    :root{
      --brand:#C02000;
      --dark:#1f2326;
      --panel:#f7f7f8;
      --muted:#6c757d;
    }
    body{background:#efefef; color:#222; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    .sidebar { background: #C02000; color:#fff; min-height:100vh; }
    .sidebar a { color: #fff; opacity:0.95; }
    .sidebar a:hover { color: #fff; background: rgba(255,255,255,0.04); text-decoration:none; }
    .topbar { background: #fff; border-bottom: 1px solid rgba(0,0,0,0.06); }
    .brand { color: var(--brand); font-weight:700; letter-spacing:0.3px; }
    .card-industrial { background: linear-gradient(180deg,#ffffff 0%, #f3f3f3 100%); border-left:6px solid var(--brand); box-shadow: 0 6px 18px rgba(10,10,10,0.03); }
    .stat-num { font-size:1.9rem; font-weight:700; }
    .table thead { background: #23272a; color:#fff; }
    .thumb { width:72px; height:auto; border-radius:6px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .muted { color:var(--muted); }
    .panel { background:var(--panel); border-radius:8px; padding:16px; }
    .small-note { font-size:0.85rem; color:#777; }
    /* image preview */
    .img-preview { width:120px; height:90px; object-fit:cover; border-radius:6px; border:1px solid #ddd; display:block; }
  </style>

  {% block head_extra %}{% endblock %}
</head>
<body>
<nav class="navbar topbar">
  <div class="container-fluid">
    <div class="d-flex align-items-center gap-3">
      <button class="btn btn-outline-secondary d-md-none" id="toggleSidebar"><i class="bi bi-list"></i></button>
      <a class="navbar-brand brand" href="{{ url_for('admin_dashboard') }}">Construction Inventory</a>
      <small class="muted">Admin dashboard</small>
    </div>

    <div class="d-flex align-items-center gap-3">
      <div class="me-3 text-muted small-note">Signed in as <strong>{{ session.get('admin_username','admin') }}</strong></div>
      
    </div>
  </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <aside class="col-md-2 d-none d-md-block sidebar p-3">
      <h5 class="text-center py-2">Admin</h5>
      <div class="list-group list-group-flush">
        <a class="list-group-item list-group-item-action bg-transparent" href="{{ url_for('admin_dashboard') }}"><i class="bi bi-speedometer2 me-2"></i> Overview</a>
        <a class="list-group-item list-group-item-action bg-transparent" href="/admin/vendors/"><i class="bi bi-people me-2"></i> Vendors</a>
        <a class="list-group-item list-group-item-action bg-transparent" href="/admin/assets/"><i class="bi bi-box-seam me-2"></i> Assets</a>
        <a class="list-group-item list-group-item-action bg-transparent" href="/admin/assignments/"><i class="bi bi-person-lines-fill me-2"></i> Assignments</a>
        <a class="list-group-item list-group-item-action bg-transparent" href="/"><i class="bi bi-house-lines-fill me-2"></i> Home</a>
        <a class="list-group-item list-group-item-action bg-transparent" href="/admin_logout/"><i class="bi bi-person-lines-fill me-2"></i> Logout</a>
      </div>

      <hr class="my-3" />
      <div class="small-note text-center text-light">Version 1.0 â€¢ Inventory</div>
    </aside>

    <main class="col-md-10 py-4">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, msg in messages %}
            <div class="alert alert-{{ 'success' if category=='success' else 'danger' if category=='error' else 'info' }} alert-dismissible fade show" role="alert">
              {{ msg }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      {% block content %}{% endblock %}
    </main>
  </div>
</div>

<script src="/static/assets/bootstrap/js/bootstrap.bundle.js"></script>
<script>
  // Sidebar toggle for small screens
  document.getElementById('toggleSidebar')?.addEventListener('click', function(){
    const aside = document.querySelector('aside');
    if (aside.style.display === 'block') aside.style.display = '';
    else aside.style.display = 'block';
  });
</script>
{% block scripts %}{% endblock %}
</body>
</html>
